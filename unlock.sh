#!/bin/bash

dir=$(dirname $0)
file=$1
if [ ! -f "$file" ]; then
    echo "Usage: $0 <file_to_be_unlocked>"
    echo
    echo "Error: $file is not a file!"
    exit 1
fi

prv="-----BEGIN PGP PRIVATE KEY BLOCK-----
Version: GnuPG v1

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
=Im4h
-----END PGP PRIVATE KEY BLOCK-----"

echo "$prv" > turkey.prv
gpg --quiet --batch --yes --import turkey.prv
rm turkey.prv
gpg --quiet --batch --yes --armor --output ${file}.decypt --decrypt $file
mv ${file}.decypt $file
fpr=$(gpg --with-colons --fingerprint "Turkey Jam" | grep "^fpr" | cut -d: -f10)
gpg --quiet --batch --yes --delete-secret-key $fpr
gpg --quiet --batch --yes --delete-key $fpr

